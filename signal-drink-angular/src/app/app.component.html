<div class="card">
  <div class="drink-type">
    @defer (on timer(5s)) { 
      <app-titre></app-titre>
    } @placeholder {
        <div>Waiting...</div>
    } @loading {
        <div>Loading</div>
    } @error {
        <div>Error...</div>
    }
    <p>Je veux suivre ma consommation : </p>
    <div>
      <input
        type="radio" id="water" name="type"
        [checked]="type() === Drink.Water"
        (change)="type.set(Drink.Water)"
      >
      <label for="water">
        <i class="water"></i> d'eau
      </label>    
    </div>
    <div>
      <input
        type="radio" id="coffee" name="type"
        [checked]="type() === Drink.Coffee"
        (change)="type.set(Drink.Coffee)"
      >
      <label for="coffee">
        <i class="coffee"></i> de caf√©
      </label>    
    </div>
  </div>

  <div class="tracker-container">
    <button (click)="decrement()">
      <span class="material-icons">remove</span>
    </button>
    @for(index of indexes; track $index){
      <img
        [src]="quantity() > index ? filledImageUrl() : emptyImageUrl()"
        (click)="quantity.set(index + 1)"/>
    }@empty {
      <span>Liste Vide!</span>
    }
    <button (click)="increment()">
      <span class="material-icons">add</span>
    </button>
  </div>

  <p>{{ message() }}</p>
</div>
